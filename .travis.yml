language: python
python:
  - "3.8.2"
jobs:
  include:
    - stage: "test"
      name: "pytest"
      install:
        - sudo apt update && sudo apt install graphviz
        - pip install .[test]
      script: pytest
    - stage: "test"
      name: "pre-commit"
      install: pip install pre-commit
      script: pre-commit run --all-files